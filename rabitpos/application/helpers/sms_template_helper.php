<?php
 goto dxs8i; UEHR0: if (!function_exists("\163\x65\156\x64\137\163\155\x73\x5f\165\x73\151\x6e\x67\x5f\164\145\x6d\x70\x6c\x61\164\x65")) { function send_sms_using_template($data_id, $template_id) { $template_name = ''; if ($template_id == 1) { $template_name = "\x47\x52\105\105\x54\111\116\x47\x20\x54\117\40\103\x55\x53\124\117\x4d\105\122\40\x4f\x4e\x20\x53\101\114\105\x53"; } if ($template_id == 2) { $template_name = "\x47\x52\x45\105\124\111\116\107\40\x54\x4f\x20\103\125\x53\124\x4f\115\x45\122\x20\x4f\116\x20\x53\x41\114\105\123\40\122\105\124\x55\x52\116"; } $CI =& get_instance(); $q1 = $CI->db->query("\163\x65\x6c\x65\143\164\40\52\x20\x66\162\x6f\155\x20\144\142\137\163\155\163\x74\145\155\x70\x6c\141\164\145\163\40\x77\x68\x65\x72\145\x20\x74\145\155\x70\x6c\x61\x74\145\137\x6e\x61\155\x65\75\47{$template_name}\47\40\x61\x6e\144\x20\163\x74\141\x74\x75\163\x3d\61"); if ($q1->num_rows() > 0) { $content = $q1->row()->content; if (!empty($content)) { switch ($template_id) { case 1: $q2 = $CI->db->query("\123\x45\x4c\x45\103\124\40\x61\56\x63\165\163\164\157\155\145\162\137\x69\144\x2c\142\56\x63\165\163\164\157\155\x65\162\x5f\156\141\155\x65\54\142\56\x6d\157\142\x69\x6c\x65\x2c\141\x2e\x73\x61\154\145\163\137\143\157\144\145\x2c\xa\11\x9\x9\x9\x9\11\x9\x9\x9\11\11\11\40\40\40\141\56\163\x61\x6c\145\x73\137\x64\141\x74\x65\x2c\141\56\147\162\x61\x6e\x64\x5f\x74\157\x74\141\x6c\54\x61\x2e\x70\141\x69\144\x5f\141\155\157\165\156\x74\54\x62\x2e\x73\141\154\x65\163\x5f\144\165\145\xa\x9\x9\x9\x9\x9\11\x9\11\11\11\11\x46\122\117\115\x20\x64\142\x5f\x73\141\x6c\x65\163\x20\x61\54\x64\x62\137\143\165\x73\164\157\x6d\145\162\x73\x20\x62\40\x77\150\x65\162\145\x20\x62\56\151\144\75\x61\x2e\143\x75\163\164\x6f\155\x65\x72\x5f\x69\144\40\x61\x6e\144\40\x61\56\151\144\x3d\47{$data_id}\47"); if ($q2->num_rows() > 0 && $q2->row()->customer_id != 1 && !empty($q2->row()->mobile)) { $content = str_replace("\x7b\173\x63\165\x73\164\157\x6d\145\x72\x5f\x6e\141\155\145\175\x7d", $q2->row()->customer_name, $content); $content = str_replace("\x7b\x7b\163\x61\154\x65\163\x5f\x69\144\175\x7d", $q2->row()->sales_code, $content); $content = str_replace("\173\173\163\x61\154\145\163\x5f\x64\141\x74\145\175\x7d", show_date($q2->row()->sales_date), $content); $content = str_replace("\x7b\x7b\163\141\154\145\x73\x5f\x61\x6d\x6f\165\156\164\x7d\175", $CI->currency_code(number_format($q2->row()->grand_total, 0, "\x2e", '')), $content); $content = str_replace("\173\173\x70\x61\151\144\x5f\141\x6d\164\x7d\x7d", $CI->currency_code(number_format($q2->row()->paid_amount, 0, "\56", '')), $content); $content = str_replace("\173\x7b\x69\x6e\x76\x6f\151\x63\145\x5f\x64\165\x65\x5f\x61\155\164\x7d\175", $CI->currency_code(number_format($q2->row()->grand_total - $q2->row()->paid_amount, 0, "\x2e", '')), $content); $content = str_replace("\x7b\x7b\x63\165\x73\164\137\x74\157\164\x5f\x64\165\145\x5f\141\155\x74\x7d\175", $CI->currency_code(number_format($q2->row()->sales_due, 0, "\56", '')), $content); $q3 = $CI->db->select("\x2a")->from("\144\x62\137\143\x6f\x6d\x70\x61\156\171")->where("\x69\x64", 1)->get()->row(); $content = str_replace("\173\173\x63\157\x6d\160\141\156\171\137\x6e\x61\155\x65\175\175", $q3->company_name, $content); $content = str_replace("\173\x7b\x63\x6f\155\x70\141\156\x79\137\x6d\157\142\x69\154\145\175\x7d", $q3->mobile, $content); $content = str_replace("\x7b\173\143\x6f\x6d\x70\141\x6e\171\x5f\x61\x64\x64\162\145\x73\x73\175\175", $q3->address, $content); $content = str_replace("\173\x7b\143\x6f\155\x70\141\x6e\x79\x5f\167\x65\x62\163\151\164\x65\x7d\x7d", $q3->company_website, $content); $content = str_replace("\173\x7b\x63\157\x6d\x70\141\156\171\137\x65\155\x61\151\x6c\x7d\x7d", $q3->email, $content); $CI->load->model("\163\x6d\163\x5f\155\x6f\x64\x65\154"); return $CI->sms_model->send_sms($q2->row()->mobile, $content); } else { return false; } break; case 2: $q2 = $CI->db->query("\123\x45\114\x45\x43\x54\40\x61\56\x63\x75\x73\164\157\x6d\x65\x72\x5f\151\x64\x2c\x62\x2e\x63\x75\163\x74\157\x6d\x65\162\137\156\141\x6d\x65\x2c\142\56\x6d\x6f\x62\151\154\x65\x2c\x61\x2e\x72\x65\x74\x75\162\156\x5f\x63\157\144\145\54\12\x9\11\x9\x9\11\11\x9\x9\x9\x9\11\x9\40\40\x20\x61\x2e\162\145\164\165\x72\156\x5f\144\x61\x74\x65\x2c\141\56\147\162\x61\156\x64\137\164\157\164\x61\154\54\x61\x2e\160\141\x69\144\x5f\141\155\x6f\165\x6e\164\x2c\142\56\x73\141\x6c\x65\163\137\x64\165\145\12\11\11\11\11\11\11\11\x9\11\x9\x9\106\122\117\x4d\x20\x64\x62\137\163\x61\154\x65\163\162\x65\164\x75\162\156\x20\x61\x2c\x64\x62\x5f\x63\165\163\164\157\155\145\162\163\40\x62\40\x77\150\x65\162\x65\40\x62\56\x69\144\x3d\x61\x2e\x63\165\163\164\x6f\155\145\x72\137\x69\x64\40\x61\156\x64\40\141\x2e\151\x64\x3d\x27{$data_id}\x27"); if ($q2->num_rows() > 0 && $q2->row()->customer_id != 1 && !empty($q2->row()->mobile)) { $content = str_replace("\x7b\x7b\143\165\x73\x74\157\155\x65\162\x5f\x6e\141\x6d\x65\175\175", $q2->row()->customer_name, $content); $content = str_replace("\173\173\x72\x65\164\x75\162\156\137\x69\144\x7d\175", $q2->row()->return_code, $content); $content = str_replace("\x7b\x7b\x72\x65\x74\165\162\x6e\137\x64\141\164\145\x7d\175", show_date($q2->row()->return_date), $content); $content = str_replace("\x7b\173\162\145\164\165\x72\x6e\x5f\141\155\157\x75\x6e\x74\175\175", $CI->currency_code(number_format($q2->row()->grand_total, 0, "\x2e", '')), $content); $content = str_replace("\x7b\173\160\141\151\144\x5f\x61\155\164\x7d\x7d", $CI->currency_code(number_format($q2->row()->paid_amount, 0, "\x2e", '')), $content); $content = str_replace("\173\x7b\151\156\166\157\151\x63\145\137\x64\x75\145\137\x61\155\164\x7d\175", $CI->currency_code(number_format($q2->row()->grand_total - $q2->row()->paid_amount, 0, "\56", '')), $content); $content = str_replace("\x7b\173\143\x75\x73\164\x5f\x74\x6f\164\x5f\144\x75\x65\x5f\141\x6d\164\175\x7d", $CI->currency_code(number_format($q2->row()->sales_due, 0, "\x2e", '')), $content); $q3 = $CI->db->select("\52")->from("\144\x62\137\143\x6f\155\x70\141\x6e\171")->where("\x69\x64", 1)->get()->row(); $content = str_replace("\x7b\173\x63\x6f\x6d\160\x61\156\171\x5f\156\x61\x6d\x65\x7d\175", $q3->company_name, $content); $content = str_replace("\x7b\173\143\x6f\x6d\160\141\156\x79\137\155\x6f\142\151\154\145\175\175", $q3->mobile, $content); $content = str_replace("\x7b\173\143\x6f\155\160\141\x6e\x79\137\x61\144\144\x72\x65\x73\163\x7d\175", $q3->address, $content); $content = str_replace("\173\x7b\x63\x6f\155\x70\x61\156\x79\x5f\x77\145\142\163\151\164\x65\175\175", $q3->company_website, $content); $content = str_replace("\173\x7b\143\157\155\160\x61\156\171\x5f\145\155\141\x69\x6c\x7d\x7d", $q3->email, $content); $CI->load->model("\x73\x6d\x73\x5f\x6d\x6f\x64\x65\x6c"); return $CI->sms_model->send_sms($q2->row()->mobile, $content); } else { return false; } break; default: return true; break; } } else { return false; } } else { return false; } } } goto HKGrp; dxs8i: if (!defined("\102\101\123\x45\120\x41\124\110")) { die("\116\157\x20\x64\x69\162\x65\x63\x74\40\x73\x63\x72\x69\160\x74\x20\x61\143\143\x65\163\x73\40\x61\154\154\x6f\x77\x65\x64"); } goto UEHR0; HKGrp: if (!function_exists("\x69\x73\137\163\155\163\x5f\145\156\x61\142\154\x65\x64")) { function is_sms_enabled() { $CI =& get_instance(); $sms_status = $CI->db->select("\x73\x6d\x73\137\x73\x74\x61\164\165\163")->get("\144\x62\x5f\x63\157\x6d\x70\x61\x6e\x79")->row()->sms_status; return $sms_status ? true : false; } }